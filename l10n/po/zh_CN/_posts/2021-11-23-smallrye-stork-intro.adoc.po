# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2021-11-24 00:58+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: Plain text
#: upstream/_posts/2021-11-23-smallrye-stork-intro.adoc:1
#, no-wrap
msgid "---\n"
msgstr ""

#. type: Plain text
#: upstream/_posts/2021-11-23-smallrye-stork-intro.adoc:8
#, no-wrap
msgid ""
"layout: post\n"
"title: 'SmallRye Stork meets Quarkus'\n"
"date: 2021-11-23\n"
"tags: extension smallrye-stork\n"
"synopsis: Introduction to customizable service discovery and client-side load-balancing with Quarkus and SmallRye Stork\n"
"author: michalszynkiewicz\n"
"---\n"
msgstr ""

#. type: Plain text
#: upstream/_posts/2021-11-23-smallrye-stork-intro.adoc:12
msgid "Last week, the https://www.youtube.com/watch?v=l3mLKU3wR2A[Quarkus Insights] spotlighted a new project called https://smallrye.io/smallrye-stork[SmallRye Stork] and its integration in Quarkus. In this blog post, we're going to give you a concise introduction to Stork."
msgstr ""

#. type: Title ==
#: upstream/_posts/2021-11-23-smallrye-stork-intro.adoc:13
#, no-wrap
msgid "What's the problem?"
msgstr ""

#. type: Plain text
#: upstream/_posts/2021-11-23-smallrye-stork-intro.adoc:16
msgid "Nowadays, systems we build consist of numerous applications, often called microservices. The system's overall behavior emerges from the interactions between all these services. So, a microservice is likely going to invoke other ones. But here is the catch. In dynamic environments, such as Kubernetes, or the Cloud, the locations of these services may change over time. So, how does our microservice locate the services it needs to call?"
msgstr ""

#. type: Plain text
#: upstream/_posts/2021-11-23-smallrye-stork-intro.adoc:18
msgid "Service discovery solves that problem, as it provides a mechanism to register and find the services. But it leads to another issue. What happens when there are multiple instances of the same service? How does a microservice select the right one? This scenario typically occurs when there are multiple replicas or versions available at the same time. Thus, in addition to service discovery, we need a way to select the right one."
msgstr ""

#. type: Plain text
#: upstream/_posts/2021-11-23-smallrye-stork-intro.adoc:20
msgid "Some environments, e.g., Kubernetes, provide ways to discover service locations and load-balance the traffic. Some do not. In some cases, the capabilities of the environment are not sufficient for the needs of the system."
msgstr ""

#. type: Named 'alt' AttributeList argument for macro 'image'
#: upstream/_posts/2021-11-23-smallrye-stork-intro.adoc:21
#, no-wrap
msgid "SmallRye"
msgstr ""

#. type: Target for macro image
#: upstream/_posts/2021-11-23-smallrye-stork-intro.adoc:21
#, no-wrap
msgid "stork.png"
msgstr ""

#. type: Plain text
#: upstream/_posts/2021-11-23-smallrye-stork-intro.adoc:24
msgid "To address these issues, we have created https://smallrye.io/smallrye-stork[SmallRye Stork]. Stork provides both features:"
msgstr ""

#. type: Plain text
#: upstream/_posts/2021-11-23-smallrye-stork-intro.adoc:26
msgid "service discovery - it lets you locate the service you need to call;"
msgstr ""

#. type: Plain text
#: upstream/_posts/2021-11-23-smallrye-stork-intro.adoc:27
msgid "service selection - it lets you select the right one when there is more than one instance"
msgstr ""

#. type: Title ==
#: upstream/_posts/2021-11-23-smallrye-stork-intro.adoc:28
#, no-wrap
msgid "What is Stork?"
msgstr ""

#. type: Plain text
#: upstream/_posts/2021-11-23-smallrye-stork-intro.adoc:30
msgid "SmallRye Stork is a _service discovery and client-side load-balancing framework_."
msgstr ""

#. type: Plain text
#: upstream/_posts/2021-11-23-smallrye-stork-intro.adoc:32
msgid "Out of the box, it provides integrations with Hashicorp Consul, Eureka, and Kubernetes and brings in a couple of load-balancer (handling the service selection) implementations, such as round-robin. But the most significant strength of Stork is its extensibility. You can plug your own service discovery mechanism or implement your own, maybe business-related, service selection strategy."
msgstr ""

#. type: Title ==
#: upstream/_posts/2021-11-23-smallrye-stork-intro.adoc:33
#, no-wrap
msgid "Stork and Quarkus"
msgstr ""

#. type: Plain text
#: upstream/_posts/2021-11-23-smallrye-stork-intro.adoc:35
msgid "As of Quarkus 2.5.0.Final, Quarkus gRPC and the Quarkus Reactive REST Client can use Stork to handle the discovery and the selection of the services."
msgstr ""

#. type: Plain text
#: upstream/_posts/2021-11-23-smallrye-stork-intro.adoc:37
msgid "You just need to configure how you want to locate and select your services. The rest will be handled by the clients directly."
msgstr ""

#. type: Plain text
#: upstream/_posts/2021-11-23-smallrye-stork-intro.adoc:39
msgid "For example, to use Stork to determine the actual address for REST Client Reactive, set the scheme of your client's URI to `stork`, and the hostname of the URI to the name of the Stork service. If your client's `configKey` is `my-client`, to use it with Hashicorp Consul and the `round-robin` load balancer, put the following in your `application.properties:"
msgstr ""

#. type: Block title
#: upstream/_posts/2021-11-23-smallrye-stork-intro.adoc:41
#, no-wrap
msgid "application.properties"
msgstr ""

#. type: delimited block -
#: upstream/_posts/2021-11-23-smallrye-stork-intro.adoc:44
#, no-wrap
msgid "quarkus.rest-client.my-client.uri=stork://hello-service\n"
msgstr ""

#. type: delimited block -
#: upstream/_posts/2021-11-23-smallrye-stork-intro.adoc:49
#, no-wrap
msgid ""
"# configure the discovery and selection of the hello-service\n"
"stork.hello-service.service-discovery=consul\n"
"stork.hello-service.service-discovery.consul-host=<consul host>\n"
"stork.hello-service.service-discovery.consul-port=<consul port>\n"
msgstr ""

#. type: delimited block -
#: upstream/_posts/2021-11-23-smallrye-stork-intro.adoc:51
#, no-wrap
msgid "stork.hello-service.load-balancer=round-robin\n"
msgstr ""

#. type: Plain text
#: upstream/_posts/2021-11-23-smallrye-stork-intro.adoc:54
msgid "The http://smallrye.io/smallrye-stork/1.0.0.Beta1/quarkus/[project's documentation] describes step by step how to use Stork with the REST Client, using Consul and round-robin load balancer as examples."
msgstr ""

#. type: Plain text
#: upstream/_posts/2021-11-23-smallrye-stork-intro.adoc:56
msgid "Service selection can be pretty advanced. For instance, the least-response-time strategy monitors the service calls to select the _fastest_ service instance."
msgstr ""

#. type: Plain text
#: upstream/_posts/2021-11-23-smallrye-stork-intro.adoc:58
msgid "In Quarkus 2.5, the gRPC extension does not propagate statistics of the calls, such as response time or encountered errors. Therefore, a load balancer that relies on this data, such as least-response-time, will not work correctly. We are working on it and hope to have it in Quarkus 2.6."
msgstr ""

#. type: Title ===
#: upstream/_posts/2021-11-23-smallrye-stork-intro.adoc:60
#, no-wrap
msgid "A demo and a lot more!"
msgstr ""

#. type: Plain text
#: upstream/_posts/2021-11-23-smallrye-stork-intro.adoc:62
msgid "Take a look at the https://www.youtube.com/watch?v=l3mLKU3wR2A[70th episode of Quarkus Insights] for a more detailed explanation and examples."
msgstr ""

#. type: Plain text
#: upstream/_posts/2021-11-23-smallrye-stork-intro.adoc:64
msgid "The demo used https://github.com/michalszynkiewicz/rest-client-reactive-stork[this project] as the client-side, each of the steps has a corresponding commit in the `main` branch. The backend services were instances of https://github.com/michalszynkiewicz/configurable-rest-service[this project], and the custom service discovery server implementation can be found https://github.com/michalszynkiewicz/simple-service-discovery-server[here]."
msgstr ""

#. type: Title ==
#: upstream/_posts/2021-11-23-smallrye-stork-intro.adoc:65
#, no-wrap
msgid "Conclusion"
msgstr ""

#. type: Plain text
#: upstream/_posts/2021-11-23-smallrye-stork-intro.adoc:69
msgid "This post briefly introduces SmallRye Stork and its Quarkus integration. Stork provides a way to locate and select services. It's simple and customizable.  We will cover Stork features in more detail shortly."
msgstr ""

#. type: Plain text
#: upstream/_posts/2021-11-23-smallrye-stork-intro.adoc:71
msgid "If you have ideas for new features, or encounter a bug, please let us know by creating a https://github.com/smallrye/smallrye-stork/issues[GitHub issue]."
msgstr ""
